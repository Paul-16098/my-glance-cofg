server:
  port: 80
  assets-path: ./assets
branding:
  hide-footer: true
theme:
  background-color: 225 14 15
  primary-color: 157 47 65
  contrast-multiplier: 1.1
  custom-css-file: ./assets/main.css
pages:
  - name: 主頁
    columns:
      - size: small
        widgets:
          - type: calendar
            title: 日曆
            first-day-of-week: monday
          - type: clock
            title: 時間
            hour-format: 24h

      - size: full
        widgets:
          - type: releases
            title: 發行
            cache: 30m
            show-source-icon: true
            token: ${GITHUB_TOKEN}
            repositories:
              - BlackTeaPie/Course-of-Temptation-Chinese-Localization
              - chinese-liliths-throne/liliths-throne-chinese-release
              - Eltirosto/Degrees-of-Lewdity-Chinese-Localization

  - name: 統計
    columns:
      - size: full
        widgets:
          - type: server-stats
            cache: 1s
            title: glance服務器統計
            title-url: http://localhost/
            servers:
              - type: local
                name: 服務器
          - type: monitor
            title: 監視器
            cache: 1s
            sites:
              - title: ArchiSteamFarm
                url: http://localhost:1242
                icon: /assets/asf.png
          - type: custom-api
            title: ASF log
            cache: 1s
            url: http://localhost:1242/Api/NLog/File
            headers:
              Authentication: ${ASF_PASSWORD}
            parameters:
              count: 15
            template: |
              <div style="overflow-y: scroll;" id="ASF-log">
              {{ range .JSON.Array "Result.Content" }}
              <div style="display: grid;grid-template-columns: auto auto 1fr;line-height: 1.1;margin: 0 0 .1em;width: 100%;">{{ .String "" | trimSpace | printf }}</div>
              {{ end }}
              </div>

          - type: custom-api
            title: ASF info
            cache: 1s
            url: http://localhost:1242/Api/Bot/asf
            headers:
              Authentication: ${ASF_PASSWORD}
            subrequests:
              gl_cofg:
                url: http://localhost:1242/Api/ASF/
                headers:
                  Authentication: ${ASF_PASSWORD}
            template: |
              <div>
              {{ $gl_cofg := ( .Subrequest "gl_cofg" ) }}
              <p>Version: {{ $gl_cofg.JSON.String "Result.Version" }}
              <p>SteamOwnerID: {{ $gl_cofg.JSON.String "Result.GlobalConfig.s_SteamOwnerID" }}</p><br>
              </div>
              {{ range .JSON.Array "Result.*" }}
              <div>
              <h3>bot: {{ .String "BotName" }}</h3>
              <div style="margin-left: 20px;">
              <p>Paused: {{ .Bool "Paused" }}</p>
              <p>SteamID: {{ .String "s_SteamID" }}</p>
              </div>
              </div>
              {{ end }}

  - name: H
    columns:
      - size: full
        widgets:
          - type: rss
            # failed to retrieve any content
            feeds:
              - title: 琉璃神社-論壇
                url: https://www.hacg.icu/wp/bbs?type=rss2&forum=g
              - title: 琉璃神社-話題
                url: https://www.hacg.icu/wp/bbs?type=rss2&forum=g&topic=g
          - type: custom-api
            title: random image
            cache: 10m
            url: https://3650000.xyz/api/
            parameters:
              mode: 66
              type: json
              num: 5
            method: GET
            template: |
              <img src="{{ .JSON.String "url" }}" style="" />
